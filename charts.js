console.clear()

import Chart from 'chart.js'

const data = {
  '2020-07-29': 82454, '2020-07-06': 22098, '2020-09-13': 252578, '2020-08-21': 152770, '2020-10-29': 471936, '2020-10-06': 373201, '2020-11-21': 561387, '2020-08-04': 99248, '2020-06-19': 1218, '2020-09-19': 288855, '2020-10-20': 434813, '2020-11-12': 527964, '2020-07-18': 50930, '2020-06-22': 3638, '2020-12-08': 643835, '2020-09-30': 347769, '2020-09-07': 223365, '2020-06-28': 8469, '2020-10-26': 458398, '2020-07-12': 32509, '2020-08-24': 162933, '2020-08-30': 182677, '2020-12-02': 613754, '2020-11-01': 479873, '2020-09-16': 275841, '2020-10-09': 385715, '2020-07-26': 71009, '2020-08-18': 142200, '2020-09-10': 243104, '2020-10-03': 358212, '2020-11-18': 553135, '2020-08-01': 87933, '2020-08-07': 107885, '2020-06-16': 211, '2020-11-09': 514517, '2020-07-15': 44010, '2020-09-27': 330492, '2020-11-15': 536765, '2020-10-23': 446595, '2020-06-25': 6043, '2020-11-29': 595693, '2020-10-17': 418904, '2020-12-05': 625494, '2020-07-09': 29661, '2020-08-27': 175784, '2020-07-04': 18478, '2020-07-27': 76711, '2020-11-27': 590828, '2020-08-19': 145678, '2020-09-11': 248935, '2020-10-04': 360936, '2020-06-17': 447, '2020-11-04': 495919, '2020-11-10': 519405, '2020-08-02': 89615, '2020-08-10': 115705, '2020-12-06': 629620, '2020-09-28': 338044, '2020-11-16': 543737, '2020-10-24': 447955, '2020-09-05': 212696, '2020-08-16': 131962, '2020-11-30': 603198, '2020-10-18': 421997, '2020-10-12': 397953, '2020-07-10': 31373, '2020-08-22': 153187, '2020-11-24': 573231, '2020-07-30': 85100, '2020-09-14': 263239, '2020-11-07': 504502, '2020-07-24': 69153, '2020-06-20': 1718, '2020-09-22': 307948, '2020-11-13': 532029, '2020-06-23': 4559, '2020-09-25': 326141, '2020-09-02': 202395, '2020-10-21': 438595, '2020-08-13': 126508, '2020-10-01': 352552, '2020-09-08': 229671, '2020-07-21': 60307, '2020-07-01': 13412, '2020-07-13': 34688, '2020-08-25': 167541, '2020-07-07': 25122, '2020-10-15': 412869, '2020-12-03': 618724, '2020-11-25': 582104, '2020-10-10': 386861, '2020-11-02': 486655, '2020-10-27': 463489, '2020-11-19': 557472, '2020-09-09': 236021, '2020-07-25': 69417, '2020-09-17': 282255, '2020-09-23': 313215, '2020-11-08': 507263, '2020-09-03': 207148, '2020-07-16': 47355, '2020-09-26': 328186, '2020-08-08': 108213, '2020-07-22': 63207, '2020-06-26': 6955, '2020-08-14': 129745, '2020-08-28': 179646, '2020-07-02': 15685, '2020-11-28': 592315, '2020-10-16': 417279, '2020-07-08': 27677, '2020-07-05': 19493, '2020-07-28': 79635, '2020-10-07': 377242, '2020-08-20': 149233, '2020-11-22': 562789, '2020-10-30': 475791, '2020-06-18': 652, '2020-08-05': 102287, '2020-11-11': 523729, '2020-11-05': 499828, '2020-09-20': 291973, '2020-08-11': 119273, '2020-10-19': 430376, '2020-12-09': 649297, '2020-09-06': 215201, '2020-09-29': 343385, '2020-07-19': 52265, '2020-12-01': 608848, '2020-08-17': 138508, '2020-06-29': 10086, '2020-08-31': 191553, '2020-10-13': 402819, '2020-09-15': 270008, '2020-08-23': 155157, '2020-10-31': 476844, '2020-10-08': 381641, '2020-11-23': 566791, '2020-09-21': 301798, '2020-07-23': 65959, '2020-08-06': 105247, '2020-11-06': 503467, '2020-07-31': 87595, '2020-06-24': 5368, '2020-10-22': 442791, '2020-11-14': 533378, '2020-09-01': 197377, '2020-12-10': 650370, '2020-08-12': 122635, '2020-10-02': 357178, '2020-07-20': 57075, '2020-06-30': 11830, '2020-07-14': 36492, '2020-12-04': 623642, '2020-08-26': 171472, '2020-10-14': 407321, '2020-11-03': 491927, '2020-11-26': 586830, '2020-09-12': 249900, '2020-10-05': 368481, '2020-10-28': 467736, '2020-11-20': 558174, '2020-09-18': 287825, '2020-09-24': 320551, '2020-08-03': 95624, '2020-12-07': 637713, '2020-07-17': 50623, '2020-09-04': 211779, '2020-08-09': 109906, '2020-06-21': 2564, '2020-06-27': 7546, '2020-11-17': 548701, '2020-10-25': 450839, '2020-08-15': 130120, '2020-08-29': 180197, '2020-07-11': 31718, '2020-07-03': 17949, '2020-10-11': 389811
}
// const data = {'2020-07-29': 82454, '2020-07-06': 22098, '2020-09-13': 252578, '2020-08-21': 152770, '2020-10-29': 471936, '2020-10-06': 373201}

let orderedValues = []
const orderedKeys = Object.keys(data).sort()
for(let key of orderedKeys) {
  orderedValues.push(data[key])
}
console.log(orderedKeys, orderedValues)


let dataset = []
for(let key in data) {
  const value = data[key]
  const obj = {}
  obj[key] = value
  dataset.push(obj)
}

Chart.defaults.global.elements.point = 'line'
Chart.defaults.global.legend.display = false
var ctx = document.getElementById('myChart');
var myChart = new Chart(ctx, {
    type: 'line',
    data: {
        labels: orderedKeys,
        datasets: [{
            label: '# of Books Read',
            data: orderedValues,
            borderWidth: 0
        }]
    },
    options: {
      scales: {
        gridLines: {
          display: false
        },
        xAxes: [{
          display: true,
          gridLines: {
            display: false
          },
          ticks: {
            autoSkip: true,
            maxTicksLimit: 10,
          },
        }],
        yAxes: [{
          display: true,
        }]
      },
      animation: 0, // disables onload animation
      elements: {
        line: {
          tension: 0 // disables bezier curves
        }
      }
    },
});
